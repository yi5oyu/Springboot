<div align="center">

# **Java 예외**   

</div>

`예외 계층구조`

<img width="700" height="420" alt="image" src="https://github.com/user-attachments/assets/3e368543-9028-4ad6-9a57-cf5eb07eca5d" />

## [Throwable](https://github.com/yi5oyu/Study/blob/main/SpringBoot/0%20Error/Throwable.md) 

`java.lang.Throwable`

```
Java의 모든 예외와 에러의 최상위 클래스
Throwable을 상속해야만 throw 가능

public class AException extends Throwable { }

try {
    throw new AException();
} catch (Throwable t) {
    // catch 가능
}
```

 - 상태 저장: 에러 메시지(detailMessage)와 원인(cause) 저장
 - 스택 트레이스: 예외 발생 시점의 메서드 호출 스택 정보를 캡처(fillInStackTrace).
 - 직렬화: 예외 정보를 네트워크나 파일로 전달할 수 있도록 Serializable 구현

### [Error](https://github.com/yi5oyu/Study/blob/main/SpringBoot/0%20Error/Error.md)

`시스템 레벨의 심각한 오류`

```
// https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Error.html

An Error is a subclass of Throwable that indicates serious problems that a reasonable application should not try to catch.
Most such errors are abnormal conditions.
The ThreadDeath error, though a "normal" condition, is also a subclass of Error because most applications should not try to catch it.

Error는 합리적인 애플리케이션이라면 catch하려고 시도해서는 안 되는 심각한 문제들을 나타냄
대부분 비정상적인 상황이며 ThreadDeath처럼 정상적인 상황도 있지만 여전히 catch 하면 안 됨
```

`JVM 자체의 문제`

OutOfMemoryError: 힙 메모리 부족   
StackOverflowError: 스택 메모리 부족(무한 재귀 등)    
VirtualMachineError: JVM 내부 오류   
...

`복구 불가능`

```
// 어차피 개발자가 해결할 수 있는 문제가 아니기 때문에 컴파일러가 확인할 필요없음
 
try {
    List list = new ArrayList<>();
    while(true) {
        // 메모리 계속 할당
        list.add(new byte[1024 * 1024]);
    }
} catch (OutOfMemoryError e) {
    // 이미 메모리가 없어 개발자가 try-catch 코드작성으로 해결 할 수 있는게 없음
}
```

### [Exception](https://github.com/yi5oyu/Study/blob/main/SpringBoot/0%20Error/Exception.md)

`애플리케이션에서의 문제`

프로그램 실행 중 발생할 수 있는 예상 가능한 문제로 개발자가 예외 처리(catch)로 프로그램을 계속 실행할 수 있음

#### Checked Exception

`컴파일러(javac)가 처리를 강제하는 예외`

개발자의 실수와 무관하게 언제든 실패할 수 있는 로직에 사용

`외부 요인에 의한 문제`

FileNotFoundException: 파일 시스템   
IOException: 네트워크   
SQLException: 데이터베이스   
...

예외 처리/사용 방법

```
// 처리 방법 

// try-catch
//  - 직접 처리: 예외가 발생하면 catch 블록으로 감(프로그램 이어서 실행됨)

// throws
//  - 책임 전가: 호출한 쪽에서 처리(호출한 곳으로 예외 객체를 던짐. main 메서드까지 간다면 JVM이 받아 프로그램 종료 될 수 있음)

// 사용 방법

// 재시도

// 예외 전환
```

#### Unchecked Exception

`RuntimeException`

컴파일러에서는 통과
예외 발생 시 자동으로 롤백(Rollback)
개발자의 실수나 로직 오류

## 커스텀 예외

Unchecked Exception 기반
